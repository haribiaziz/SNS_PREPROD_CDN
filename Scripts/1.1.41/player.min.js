function hoverTitleVideo(){$("html").width()>992&&$(".playerFormation").hover(function(){$(".titreFormation").slideDown("slow")},function(){$(".titreFormation").slideUp("slow")})}function RedirectionAdobe(){window.open("https://get.adobe.com/fr/flashplayer/","_blank")}function playVideoHtml5(n,t,i,r,u,f){var s=t,e,o;u.toLowerCase()==="false"&&(s=readurl(t));e=document.getElementById("video");o=new shaka.Player(e);window.player=o;e.addEventListener("playing",onPlayingHtml5(r,i,f));e.addEventListener("ended",onEndedHtml5);o.addEventListener("error",onErrorEventHtml5);o.load(s).then(function(){}).catch(onErrorHtml5)}function onPlayingHtml5(n,t,i){var r=$(".player-menu li ul li[data-video-id = "+n+"] a i:first").attr("class");r!="fa fa-check"&&$.ajax({type:"POST",url:"/tutoriel/UpdateTrainingHisto",data:{idVideo:n,idtraining:t},success:function(){if(i=="true"){$(".player-menu li ul li[data-video-id = "+n+"] a i:first").removeAttr("class").attr("class","fa fa-check");var t=$(".player-menu li ul li[data-video-id = "+n+"]").attr("data-progression"),r=Math.round(parseFloat($(".progress-training .progress-percent").attr("data-progresse"))+parseFloat(t));$(".progress-training .progress-percent").text(r+"%");$(".progress-training .progress-fill").css("width",r+"%");$(".progress-training .progress-percent").attr("data-progresse",parseFloat($(".progress-training .progress-percent").attr("data-progresse"))+parseFloat(t))}}})}function onEndedHtml5(){$("#blockSuggest").attr("style","display:block");$("#playerVideo").attr("style","display:none")}function onErrorEventHtml5(n){onErrorHtml5(n.detail)}function onErrorHtml5(n){for(var t,i=0;i<n.data.length;i++)console.error("Error code",n.code,"object",n.data[i]);t=window.location.href;t.indexOf("/HTML5")>-1?t=t.replace("/HTML5","/FLASH"):t+="/FLASH";window.location.href=t}function playVideo(n,t,i,r,u,f,e,o){var s,h;if(shaka.polyfill.installAll(),s=window.location.href,f.toLowerCase()==="false"&&(jwUrl=readurl(t)),shaka.Player.isBrowserSupported()&&s.indexOf("/FLASH")==-1)return document.getElementById("playerVideo").innerHTML="<video id='video' width='100%' poster='"+o+"' controls autoplay><\/video>",h=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),h&&(document.getElementById("playerVideo").style.cursor="pointer",document.getElementById("playerVideo").onclick=function(){var n=document.getElementById("video");n.paused?n.play():n.pause()}),playVideoHtml5(n,i,r,u,f,e,o);jwplayer("playerVideo").setup({abouttext:"SmartnSkilled Player",title:n,file:jwUrl,width:"100%",height:"100%",image:o,primary:"HTML5",androidhls:!0,autostart:!0,mute:!1,repeat:!1,events:{onPlay:function(){var n=$(".player-menu li ul li[data-video-id = "+u+"] a i:first").attr("class");n!="fa fa-check"&&$.ajax({type:"POST",url:"/tutoriel/UpdateTrainingHisto",data:{idVideo:u,idtraining:r},success:function(){if(e=="true"){$(".player-menu li ul li[data-video-id = "+u+"] a i:first").removeAttr("class").attr("class","fa fa-check");var n=$(".player-menu li ul li[data-video-id = "+u+"]").attr("data-progression"),t=Math.round(parseFloat($(".progress-training .progress-percent").attr("data-progresse"))+parseFloat(n));$(".progress-training .progress-percent").text(t+"%");$(".progress-training .progress-fill").css("width",t+"%");$(".progress-training .progress-percent").attr("data-progresse",parseFloat($(".progress-training .progress-percent").attr("data-progresse"))+parseFloat(n))}}})},onComplete:function(){$("#blockSuggest").attr("style","display:block");$("#playerVideo").attr("style","display:none")}}});jwplayer("playerVideo").onError(function(){if(shaka.Player.isBrowserSupported()&&s.indexOf("/FLASH")==-1){document.getElementById("playerVideo").innerHTML="<video id='video' width='100%' poster='"+o+"' controls autoplay><\/video>";var t=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);return t&&(document.getElementById("playerVideo").style.cursor="pointer",document.getElementById("playerVideo").onclick=function(){var n=document.getElementById("video");n.paused?n.play():n.pause()}),playVideoHtml5(n,i,r,u,f,e,o)}})}function getInfoVideo(n,t,i,r){if(n=="true"){var u=i.toLowerCase()=="true"||r.toLowerCase()=="true"?!0:!1;$.ajax({type:"POST",url:"/plan/GetInfoVideoByUser?trgId="+t,contentType:"application/json",success:function(n){u&&$(".player-menu li ul li").each(function(){$(this).find("a i:first").removeAttr("class").attr("class","fa fa-play-circle")});for(var t=0;t<n.ids.length;t++)$(".player-menu li ul li[data-video-id = "+n.ids[t]+"]").attr("data-video-id")==n.ids[t]&&$(".player-menu li ul li[data-video-id = "+n.ids[t]+"] a i:first").removeAttr("class").attr("class","fa fa-check");$(".progress-training").show();$(".progress-training .progress-percent").attr("data-progresse",n.progression);$(".progress-training .progress-percent").text(Math.round(n.progression)+"%");$(".progress-training .progress-fill").css("width",Math.round(n.progression)+"%")}})}}function OnSuccessAddFavorisTraining(n){$(".path-favoris-trg[data-ajax-loading$=_"+n.trainingId+"].active").length>0?$(".path-favoris-trg[data-ajax-loading$=_"+n.trainingId+"]").each(function(){$(this).removeClass("active");$(this).show()}):$(".path-favoris-trg[data-ajax-loading$=_"+n.trainingId+"]").each(function(){$(this).addClass("active");$(this).show()})}$(document).ready(function(){$("html").width()>992&&($("#planTraining").css("height",$("html").height()-$(".plan-top-block").outerHeight()-$(".progress-training").outerHeight()+"px"),$("#planTraining").mCustomScrollbar({axis:"y",theme:"minimal-dark",scrollbarPosition:"outside"}),hoverTitleVideo());$(".player-menu > li > a").click(function(){var n=$(this).parent();n.hasClass("open")?n.find("ul").slideUp("slow",function(){$(this).closest("li").toggleClass("open")}):n.find("ul").slideDown("slow").closest("li").toggleClass("open")})});$(window).resize(function(){$("html").width()>992?($("#planTraining").css("height",$("html").height()-$(".plan-top-block").outerHeight()-$(".progress-training").outerHeight()+"px"),$("#planTraining").mCustomScrollbar({axis:"y",theme:"minimal-dark",scrollbarPosition:"outside"}),hoverTitleVideo()):($("#planTraining").height("100%"),$("#planTraining").mCustomScrollbar({axis:"y",theme:"minimal-dark",scrollbarPosition:"outside"}),$(".playerFormation").show())})