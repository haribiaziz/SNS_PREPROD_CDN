(function(n,t,i,r){var u=!0;!function(t){if(typeof require=="function"&&typeof exports=="object"&&typeof module=="object"){var i=module.exports||exports;t(i)}else typeof define=="function"&&define.amd?define(["exports"],t):t(n.ko={})}(function(f){function y(n){var t=this,i,r;if(n)for(i in n)r=e.extenders[i],typeof r=="function"&&(t=r(t,n[i]));return t}function v(n,t,i){i&&t!==e.selectExtensions.readValue(n)&&e.selectExtensions.writeValue(n,t);t!==e.selectExtensions.readValue(n)&&e.utils.triggerEvent(n,"change")}var e=typeof f!="undefined"?f:{},s,l,o,h,a,c;e.exportSymbol=function(n,t){for(var i=n.split("."),r=e,u=0;u<i.length-1;u++)r=r[i[u]];r[i[i.length-1]]=t};e.exportProperty=function(n,t,i){n[t]=i};e.version="2.1.0";e.exportSymbol("version",e.version);e.utils=new function(){function c(n,t){if(e.utils.tagNameLower(n)!=="input"||!n.type||t.toLowerCase()!="click")return!1;var i=n.type;return i=="checkbox"||i=="radio"}var v=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,f={},l={},y=/Firefox\/2/i.test(i.userAgent)?"KeyboardEvent":"UIEvents",h,o,s,a;f[y]=["keyup","keydown","keypress"];f.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];for(h in f)if(o=f[h],o.length)for(s=0,a=o.length;s<a;s++)l[o[s]]=h;var p={propertychange:!0},u=function(){for(var n=3,i=t.createElement("div"),u=i.getElementsByTagName("i");i.innerHTML="<!--[if gt IE "+ ++n+"]><i><\/i><![endif]-->",u[0];);return n>4?n:r}(),w=u===6,b=u===7;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(n,t){for(var i=0,r=n.length;i<r;i++)t(n[i])},arrayIndexOf:function(n,t){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(n,t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},arrayFirst:function(n,t,i){for(var r=0,u=n.length;r<u;r++)if(t.call(i,n[r]))return n[r];return null},arrayRemoveItem:function(n,t){var i=e.utils.arrayIndexOf(n,t);i>=0&&n.splice(i,1)},arrayGetDistinctValues:function(n){var i,t,r;for(n=n||[],i=[],t=0,r=n.length;t<r;t++)e.utils.arrayIndexOf(i,n[t])<0&&i.push(n[t]);return i},arrayMap:function(n,t){var r,i,u;for(n=n||[],r=[],i=0,u=n.length;i<u;i++)r.push(t(n[i]));return r},arrayFilter:function(n,t){var r,i,u;for(n=n||[],r=[],i=0,u=n.length;i<u;i++)t(n[i])&&r.push(n[i]);return r},arrayPushAll:function(n,t){if(t instanceof Array)n.push.apply(n,t);else for(var i=0,r=t.length;i<r;i++)n.push(t[i]);return n},extend:function(n,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},emptyDomNode:function(n){while(n.firstChild)e.removeNode(n.firstChild)},moveCleanedNodesToContainerElement:function(n){for(var r=e.utils.makeArray(n),u=t.createElement("div"),i=0,f=r.length;i<f;i++)e.cleanNode(r[i]),u.appendChild(r[i]);return u},setDomNodeChildren:function(n,t){if(e.utils.emptyDomNode(n),t)for(var i=0,r=t.length;i<r;i++)n.appendChild(t[i])},replaceDomNodes:function(n,t){var r=n.nodeType?[n]:n,f,o,i,u;if(r.length>0){for(f=r[0],o=f.parentNode,i=0,u=t.length;i<u;i++)o.insertBefore(t[i],f);for(i=0,u=r.length;i<u;i++)e.removeNode(r[i])}},setOptionNodeSelectionState:function(n,t){i.userAgent.indexOf("MSIE 6")>=0?n.setAttribute("selected",t):n.selected=t},stringTrim:function(n){return(n||"").replace(v,"")},stringTokenize:function(n,t){for(var r,u=[],f=(n||"").split(t),i=0,o=f.length;i<o;i++)r=e.utils.stringTrim(f[i]),r!==""&&u.push(r);return u},stringStartsWith:function(n,t){return(n=n||"",t.length>n.length)?!1:n.substring(0,t.length)===t},buildEvalWithinScopeFunction:function(n,t){for(var i="return ("+n+")",r=0;r<t;r++)i="with(sc["+r+"]){"+i+"}";return new Function("sc",i)},domNodeIsContainedBy:function(n,t){if(t.compareDocumentPosition)return(t.compareDocumentPosition(n)&16)==16;while(n!=null){if(n==t)return!0;n=n.parentNode}return!1},domNodeIsAttachedToDocument:function(n){return e.utils.domNodeIsContainedBy(n,n.ownerDocument)},tagNameLower:function(n){return n&&n.tagName&&n.tagName.toLowerCase()},registerEventHandler:function(n,t,i){var r=u&&p[t],f;if(r||typeof jQuery=="undefined")if(r||typeof n.addEventListener!="function")if(typeof n.attachEvent!="undefined")n.attachEvent("on"+t,function(t){i.call(n,t)});else throw new Error("Browser doesn't support addEventListener or attachEvent");else n.addEventListener(t,i,!1);else c(n,t)&&(f=i,i=function(n,t){var i=this.checked;t&&(this.checked=t.checkedStateBeforeEvent!==!0);f.call(this,n);this.checked=i}),jQuery(n).bind(t,i)},triggerEvent:function(i,r){var u,e,f;if(!(i&&i.nodeType))throw new Error("element must be a DOM node when calling triggerEvent");if(typeof jQuery!="undefined")u=[],c(i,r)&&u.push({checkedStateBeforeEvent:i.checked}),jQuery(i).trigger(r,u);else if(typeof t.createEvent=="function")if(typeof i.dispatchEvent=="function")e=l[r]||"HTMLEvents",f=t.createEvent(e),f.initEvent(r,!0,!0,n,0,0,0,0,0,!1,!1,!1,!1,0,i),i.dispatchEvent(f);else throw new Error("The supplied element doesn't support dispatchEvent");else if(typeof i.fireEvent!="undefined")c(i,r)&&(i.checked=i.checked!==!0),i.fireEvent("on"+r);else throw new Error("Browser doesn't support triggering events")},unwrapObservable:function(n){return e.isObservable(n)?n():n},toggleDomNodeCssClass:function(n,t,i){var r=(n.className||"").split(/\s+/),o=e.utils.arrayIndexOf(r,t)>=0,f,u;if(i&&!o)n.className+=(r[0]?" ":"")+t;else if(o&&!i){for(f="",u=0;u<r.length;u++)r[u]!=t&&(f+=r[u]+" ");n.className=e.utils.stringTrim(f)}},setTextContent:function(n,t){var i=e.utils.unwrapObservable(t);(i===null||i===r)&&(i="");"innerText"in n?n.innerText=i:n.textContent=i;u>=9&&(n.style.display=n.style.display)},ensureSelectElementIsRenderedCorrectly:function(n){if(u>=9){var t=n.style.width;n.style.width=0;n.style.width=t}},range:function(n,t){var r,i;for(n=e.utils.unwrapObservable(n),t=e.utils.unwrapObservable(t),r=[],i=n;i<=t;i++)r.push(i);return r},makeArray:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t]);return i},isIe6:w,isIe7:b,ieVersion:u,getFormFields:function(n,t){for(var r=e.utils.makeArray(n.getElementsByTagName("input")).concat(e.utils.makeArray(n.getElementsByTagName("textarea"))),f=typeof t=="string"?function(n){return n.name===t}:function(n){return t.test(n.name)},u=[],i=r.length-1;i>=0;i--)f(r[i])&&u.push(r[i]);return u},parseJson:function(t){return typeof t=="string"&&(t=e.utils.stringTrim(t),t)?n.JSON&&n.JSON.parse?n.JSON.parse(t):new Function("return "+t)():null},stringifyJson:function(n,t,i){if(typeof JSON=="undefined"||typeof JSON.stringify=="undefined")throw new Error("Cannot find JSON.stringify(). Some browsers (e.g.,IE < 8) don't support it natively,but you can overcome this by adding a script reference to json2.js,downloadable from http://www.json.org/json2.js");return JSON.stringify(e.utils.unwrapObservable(n),t,i)},postJson:function(n,i,r){var a,h,c,s,u,o,f;r=r||{};var l=r.params||{},v=r.includeFields||this.fieldsIncludedWithJsonPost,y=n;if(typeof n=="object"&&e.utils.tagNameLower(n)==="form")for(a=n,y=a.action,h=v.length-1;h>=0;h--)for(c=e.utils.getFormFields(a,v[h]),s=c.length-1;s>=0;s--)l[c[s].name]=c[s].value;i=e.utils.unwrapObservable(i);u=t.createElement("form");u.style.display="none";u.action=y;u.method="post";for(o in i)f=t.createElement("input"),f.name=o,f.value=e.utils.stringifyJson(e.utils.unwrapObservable(i[o])),u.appendChild(f);for(o in l)f=t.createElement("input"),f.name=o,f.value=l[o],u.appendChild(f);t.body.appendChild(u);r.submitter?r.submitter(u):u.submit();setTimeout(function(){u.parentNode.removeChild(u)},0)}}};e.exportSymbol("utils",e.utils);e.exportSymbol("utils.arrayForEach",e.utils.arrayForEach);e.exportSymbol("utils.arrayFirst",e.utils.arrayFirst);e.exportSymbol("utils.arrayFilter",e.utils.arrayFilter);e.exportSymbol("utils.arrayGetDistinctValues",e.utils.arrayGetDistinctValues);e.exportSymbol("utils.arrayIndexOf",e.utils.arrayIndexOf);e.exportSymbol("utils.arrayMap",e.utils.arrayMap);e.exportSymbol("utils.arrayPushAll",e.utils.arrayPushAll);e.exportSymbol("utils.arrayRemoveItem",e.utils.arrayRemoveItem);e.exportSymbol("utils.extend",e.utils.extend);e.exportSymbol("utils.fieldsIncludedWithJsonPost",e.utils.fieldsIncludedWithJsonPost);e.exportSymbol("utils.getFormFields",e.utils.getFormFields);e.exportSymbol("utils.postJson",e.utils.postJson);e.exportSymbol("utils.parseJson",e.utils.parseJson);e.exportSymbol("utils.registerEventHandler",e.utils.registerEventHandler);e.exportSymbol("utils.stringifyJson",e.utils.stringifyJson);e.exportSymbol("utils.range",e.utils.range);e.exportSymbol("utils.toggleDomNodeCssClass",e.utils.toggleDomNodeCssClass);e.exportSymbol("utils.triggerEvent",e.utils.triggerEvent);e.exportSymbol("utils.unwrapObservable",e.utils.unwrapObservable);Function.prototype.bind||(Function.prototype.bind=function(n){var i=this,t=Array.prototype.slice.call(arguments),n=t.shift();return function(){return i.apply(n,t.concat(Array.prototype.slice.call(arguments)))}});e.utils.domData=new function(){var i=0,n="__ko__"+(new Date).getTime(),t={};return{get:function(n,t){var i=e.utils.domData.getAll(n,!1);return i===r?r:i[t]},set:function(n,t,i){if(i!==r||e.utils.domData.getAll(n,!1)!==r){var u=e.utils.domData.getAll(n,!0);u[t]=i}},getAll:function(u,f){var e=u[n],o=e&&e!=="null";if(!o){if(!f)return r;e=u[n]="ko"+i++;t[e]={}}return t[e]},clear:function(i){var r=i[n];r&&(delete t[r],i[n]=null)}}};e.exportSymbol("utils.domData",e.utils.domData);e.exportSymbol("utils.domData.clear",e.utils.domData.clear);e.utils.domNodeDisposal=new function(){function t(t,i){var u=e.utils.domData.get(t,n);return u===r&&i&&(u=[],e.utils.domData.set(t,n,u)),u}function o(t){e.utils.domData.set(t,n,r)}function i(n){var i=t(n,!1),r;if(i)for(i=i.slice(0),r=0;r<i.length;r++)i[r](n);e.utils.domData.clear(n);typeof jQuery=="function"&&typeof jQuery.cleanData=="function"&&jQuery.cleanData([n]);u[n.nodeType]&&s(n)}function s(n){for(var t,r=n.firstChild;t=r;)r=t.nextSibling,t.nodeType===8&&i(t)}var n="__ko_domNodeDisposal__"+(new Date).getTime(),f={1:!0,8:!0,9:!0},u={1:!0,9:!0};return{addDisposeCallback:function(n,i){if(typeof i!="function")throw new Error("Callback must be a function");t(n,!0).push(i)},removeDisposeCallback:function(n,i){var r=t(n,!1);r&&(e.utils.arrayRemoveItem(r,i),r.length==0&&o(n))},cleanNode:function(n){var t,r,o;if(f[n.nodeType]&&(i(n),u[n.nodeType]))for(t=[],e.utils.arrayPushAll(t,n.getElementsByTagName("*")),r=0,o=t.length;r<o;r++)i(t[r])},removeNode:function(n){e.cleanNode(n);n.parentNode&&n.parentNode.removeChild(n)}}};e.cleanNode=e.utils.domNodeDisposal.cleanNode;e.removeNode=e.utils.domNodeDisposal.removeNode;e.exportSymbol("cleanNode",e.cleanNode);e.exportSymbol("removeNode",e.removeNode);e.exportSymbol("utils.domNodeDisposal",e.utils.domNodeDisposal);e.exportSymbol("utils.domNodeDisposal.addDisposeCallback",e.utils.domNodeDisposal.addDisposeCallback);e.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",e.utils.domNodeDisposal.removeDisposeCallback),function(){function i(i){var u=e.utils.stringTrim(i).toLowerCase(),r=t.createElement("div"),f=u.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","<\/table>"]||!u.indexOf("<tr")&&[2,"<table><tbody>","<\/tbody><\/table>"]||(!u.indexOf("<td")||!u.indexOf("<th"))&&[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"]||[0,"",""],o="ignored<div>"+f[1]+i+f[2]+"<\/div>";for(typeof n.innerShiv=="function"?r.appendChild(n.innerShiv(o)):r.innerHTML=o;f[0]--;)r=r.lastChild;return e.utils.makeArray(r.lastChild.childNodes)}function u(n){var i=jQuery.clean([n]),t;if(i&&i[0]){for(t=i[0];t.parentNode&&t.parentNode.nodeType!==11;)t=t.parentNode;t.parentNode&&t.parentNode.removeChild(t)}return i}e.utils.parseHtmlFragment=function(n){return typeof jQuery!="undefined"?u(n):i(n)};e.utils.setHtml=function(n,t){var u,i;if(e.utils.emptyDomNode(n),t!==null&&t!==r)if(typeof t!="string"&&(t=t.toString()),typeof jQuery!="undefined")jQuery(n).html(t);else for(u=e.utils.parseHtmlFragment(t),i=0;i<u.length;i++)n.appendChild(u[i])}}();e.exportSymbol("utils.parseHtmlFragment",e.utils.parseHtmlFragment);e.exportSymbol("utils.setHtml",e.utils.setHtml);e.memoization=function(){function t(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function u(){return t()+t()}function i(n,t){var r;if(n)if(n.nodeType==8)r=e.memoization.parseMemoText(n.nodeValue),r!=null&&t.push({domNode:n,memoId:r});else if(n.nodeType==1)for(var u=0,f=n.childNodes,o=f.length;u<o;u++)i(f[u],t)}var n={};return{memoize:function(t){if(typeof t!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var i=u();return n[i]=t,"<!--[ko_memo:"+i+"]-->"},unmemoize:function(t,i){var u=n[t];if(u===r)throw new Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return u.apply(null,i||[]),!0}finally{delete n[t]}},unmemoizeDomNodeAndDescendants:function(n,t){var f=[],u,s,r,o;for(i(n,f),u=0,s=f.length;u<s;u++)r=f[u].domNode,o=[r],t&&e.utils.arrayPushAll(o,t),e.memoization.unmemoize(f[u].memoId,o),r.nodeValue="",r.parentNode&&r.parentNode.removeChild(r)},parseMemoText:function(n){var t=n.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}();e.exportSymbol("memoization",e.memoization);e.exportSymbol("memoization.memoize",e.memoization.memoize);e.exportSymbol("memoization.unmemoize",e.memoization.unmemoize);e.exportSymbol("memoization.parseMemoText",e.memoization.parseMemoText);e.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",e.memoization.unmemoizeDomNodeAndDescendants);e.extenders={throttle:function(n,t){n.throttleEvaluation=t;var i=null;return e.dependentObservable({read:n,write:function(r){clearTimeout(i);i=setTimeout(function(){n(r)},t)}})},notify:function(n,t){return n.equalityComparer=t=="always"?function(){return!1}:e.observable.fn.equalityComparer,n}};e.exportSymbol("extenders",e.extenders);e.subscription=function(n,t,i){this.target=n;this.callback=t;this.disposeCallback=i;e.exportProperty(this,"dispose",this.dispose)};e.subscription.prototype.dispose=function(){this.isDisposed=!0;this.disposeCallback()};e.subscribable=function(){this._subscriptions={};e.utils.extend(this,e.subscribable.fn);e.exportProperty(this,"subscribe",this.subscribe);e.exportProperty(this,"extend",this.extend);e.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)};s="change";e.subscribable.fn={subscribe:function(n,t,i){i=i||s;var u=t?n.bind(t):n,r=new e.subscription(this,u,function(){e.utils.arrayRemoveItem(this._subscriptions[i],r)}.bind(this));return this._subscriptions[i]||(this._subscriptions[i]=[]),this._subscriptions[i].push(r),r},notifySubscribers:function(n,t){t=t||s;this._subscriptions[t]&&e.utils.arrayForEach(this._subscriptions[t].slice(0),function(t){t&&t.isDisposed!==!0&&t.callback(n)})},getSubscriptionsCount:function(){var n=0;for(var t in this._subscriptions)this._subscriptions.hasOwnProperty(t)&&(n+=this._subscriptions[t].length);return n},extend:y};e.isSubscribable=function(n){return typeof n.subscribe=="function"&&typeof n.notifySubscribers=="function"};e.exportSymbol("subscribable",e.subscribable);e.exportSymbol("isSubscribable",e.isSubscribable);e.dependencyDetection=function(){var n=[];return{begin:function(t){n.push({callback:t,distinctDependencies:[]})},end:function(){n.pop()},registerDependency:function(t){if(!e.isSubscribable(t))throw new Error("Only subscribable things can act as dependencies");if(n.length>0){var i=n[n.length-1];if(e.utils.arrayIndexOf(i.distinctDependencies,t)>=0)return;i.distinctDependencies.push(t);i.callback(t)}}}}();l={undefined:!0,boolean:!0,number:!0,string:!0};e.observable=function(n){function t(){return arguments.length>0?(t.equalityComparer&&t.equalityComparer(i,arguments[0])||(t.valueWillMutate(),i=arguments[0],u&&(t._latestValue=i),t.valueHasMutated()),this):(e.dependencyDetection.registerDependency(t),i)}var i=n;return u&&(t._latestValue=i),e.subscribable.call(t),t.valueHasMutated=function(){t.notifySubscribers(i)},t.valueWillMutate=function(){t.notifySubscribers(i,"beforeChange")},e.utils.extend(t,e.observable.fn),e.exportProperty(t,"valueHasMutated",t.valueHasMutated),e.exportProperty(t,"valueWillMutate",t.valueWillMutate),t};e.observable.fn={equalityComparer:function(n,t){var i=n===null||typeof n in l;return i?n===t:!1}};o=e.observable.protoProperty="__ko_proto__";e.observable.fn[o]=e.observable;e.hasPrototype=function(n,t){return n===null||n===r||n[o]===r?!1:n[o]===t?!0:e.hasPrototype(n[o],t)};e.isObservable=function(n){return e.hasPrototype(n,e.observable)};e.isWriteableObservable=function(n){return typeof n=="function"&&n[o]===e.observable?!0:typeof n=="function"&&n[o]===e.dependentObservable&&n.hasWriteFunction?!0:!1};e.exportSymbol("observable",e.observable);e.exportSymbol("isObservable",e.isObservable);e.exportSymbol("isWriteableObservable",e.isWriteableObservable);e.observableArray=function(n){if(arguments.length==0&&(n=[]),n!==null&&n!==r&&!("length"in n))throw new Error("The argument passed when initializing an observable array must be an array,or null,or undefined.");var t=e.observable(n);return e.utils.extend(t,e.observableArray.fn),t};e.observableArray.fn={remove:function(n){for(var u,r=this(),i=[],f=typeof n=="function"?n:function(t){return t===n},t=0;t<r.length;t++)u=r[t],f(u)&&(i.length===0&&this.valueWillMutate(),i.push(u),r.splice(t,1),t--);return i.length&&this.valueHasMutated(),i},removeAll:function(n){if(n===r){var t=this(),i=t.slice(0);return this.valueWillMutate(),t.splice(0,t.length),this.valueHasMutated(),i}return n?this.remove(function(t){return e.utils.arrayIndexOf(n,t)>=0}):[]},destroy:function(n){var i=this(),u=typeof n=="function"?n:function(t){return t===n},t,r;for(this.valueWillMutate(),t=i.length-1;t>=0;t--)r=i[t],u(r)&&(i[t]._destroy=!0);this.valueHasMutated()},destroyAll:function(n){return n===r?this.destroy(function(){return!0}):n?this.destroy(function(t){return e.utils.arrayIndexOf(n,t)>=0}):[]},indexOf:function(n){var t=this();return e.utils.arrayIndexOf(t,n)},replace:function(n,t){var i=this.indexOf(n);i>=0&&(this.valueWillMutate(),this()[i]=t,this.valueHasMutated())}};e.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(n){e.observableArray.fn[n]=function(){var t=this(),i;return this.valueWillMutate(),i=t[n].apply(t,arguments),this.valueHasMutated(),i}});e.utils.arrayForEach(["slice"],function(n){e.observableArray.fn[n]=function(){var t=this();return t[n].apply(t,arguments)}});e.exportSymbol("observableArray",e.observableArray);e.dependentObservable=function(n,t,i){function k(){e.utils.arrayForEach(s,function(n){n.dispose()});s=[]}function g(){var n=f.throttleEvaluation;n&&n>=0?(clearTimeout(b),b=setTimeout(a,n)):a()}function a(){var n,l,i;if(!y){if(v&&w()){c();return}y=!0;try{for(n=e.utils.arrayMap(s,function(n){return n.target}),e.dependencyDetection.begin(function(t){var i;(i=e.utils.arrayIndexOf(n,t))>=0?n[i]=r:s.push(t.subscribe(g))}),l=o.call(t),i=n.length-1;i>=0;i--)n[i]&&s.splice(i,1)[0].dispose();v=!0;f.notifySubscribers(h,"beforeChange");h=l;u&&(f._latestValue=h)}finally{e.dependencyDetection.end()}f.notifySubscribers(h);y=!1}}function f(){if(arguments.length>0)nt.apply(f,arguments);else return tt()}function nt(){if(typeof p=="function")p.apply(t,arguments);else throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value,don't pass any parameters.")}function tt(){return v||a(),e.dependencyDetection.registerDependency(f),h}var h,v=!1,y=!1,o=n,p,s,d,b;if(o&&typeof o=="object"?(i=o,o=i.read):(i=i||{},o||(o=i.read)),typeof o!="function")throw new Error("Pass a function that returns the value of the ko.computed");p=i.write;t||(t=i.owner);s=[];var c=k,l=typeof i.disposeWhenNodeIsRemoved=="object"?i.disposeWhenNodeIsRemoved:null,w=i.disposeWhen||function(){return!1};return l&&(c=function(){e.utils.domNodeDisposal.removeDisposeCallback(l,arguments.callee);k()},e.utils.domNodeDisposal.addDisposeCallback(l,c),d=w,w=function(){return!e.utils.domNodeIsAttachedToDocument(l)||d()}),b=null,f.getDependenciesCount=function(){return s.length},f.hasWriteFunction=typeof i.write=="function",f.dispose=function(){c()},e.subscribable.call(f),e.utils.extend(f,e.dependentObservable.fn),i.deferEvaluation!==!0&&a(),e.exportProperty(f,"dispose",f.dispose),e.exportProperty(f,"getDependenciesCount",f.getDependenciesCount),f};e.isComputed=function(n){return e.hasPrototype(n,e.dependentObservable)};h=e.observable.protoProperty;e.dependentObservable[h]=e.observable;e.dependentObservable.fn={};e.dependentObservable.fn[h]=e.dependentObservable;e.exportSymbol("dependentObservable",e.dependentObservable);e.exportSymbol("computed",e.dependentObservable);e.exportSymbol("isComputed",e.isComputed),function(){function n(t,f,e){var s,o;return(e=e||new u,t=f(t),s=typeof t=="object"&&t!==null&&t!==r&&!(t instanceof Date),!s)?t:(o=t instanceof Array?[]:{},e.save(t,o),i(t,function(i){var u=f(t[i]),s;switch(typeof u){case"boolean":case"number":case"string":case"function":o[i]=u;break;case"object":case"undefined":s=e.get(u);o[i]=s!==r?s:n(u,f,e)}}),o)}function i(n,t){var i,r;if(n instanceof Array){for(i=0;i<n.length;i++)t(i);typeof n.toJSON=="function"&&t("toJSON")}else for(r in n)t(r)}function u(){var n=[],t=[];this.save=function(i,r){var u=e.utils.arrayIndexOf(n,i);u>=0?t[u]=r:(n.push(i),t.push(r))};this.get=function(i){var u=e.utils.arrayIndexOf(n,i);return u>=0?t[u]:r}}var t=10;e.toJS=function(i){if(arguments.length==0)throw new Error("When calling ko.toJS,pass the object you want to convert.");return n(i,function(n){for(var i=0;e.isObservable(n)&&i<t;i++)n=n();return n})};e.toJSON=function(n,t,i){var r=e.toJS(n);return e.utils.stringifyJson(r,t,i)}}();e.exportSymbol("toJS",e.toJS);e.exportSymbol("toJSON",e.toJSON),function(){var n="__ko__hasDomDataOptionValue__";e.selectExtensions={readValue:function(t){switch(e.utils.tagNameLower(t)){case"option":return t[n]===!0?e.utils.domData.get(t,e.bindingHandlers.options.optionValueDomDataKey):t.getAttribute("value");case"select":return t.selectedIndex>=0?e.selectExtensions.readValue(t.options[t.selectedIndex]):r;default:return t.value}},writeValue:function(t,i){switch(e.utils.tagNameLower(t)){case"option":switch(typeof i){case"string":e.utils.domData.set(t,e.bindingHandlers.options.optionValueDomDataKey,r);n in t&&delete t[n];t.value=i;break;default:e.utils.domData.set(t,e.bindingHandlers.options.optionValueDomDataKey,i);t[n]=!0;t.value=typeof i=="number"?i:""}break;case"select":for(var u=t.options.length-1;u>=0;u--)if(e.selectExtensions.readValue(t.options[u])==i){t.selectedIndex=u;break}break;default:(i===null||i===r)&&(i="");t.value=i}}}}();e.exportSymbol("selectExtensions",e.selectExtensions);e.exportSymbol("selectExtensions.readValue",e.selectExtensions.readValue);e.exportSymbol("selectExtensions.writeValue",e.selectExtensions.writeValue);e.jsonExpressionRewriting=function(){function n(n,i){for(var r=null;n!=r;)r=n,n=n.replace(t,function(n,t){return i[t]});return n}function u(n){return e.utils.arrayIndexOf(r,e.utils.stringTrim(n).toLowerCase())>=0?!1:n.match(i)!==null}function f(n){var t=e.utils.stringTrim(n);switch(t.length&&t.charAt(0)){case"'":case'"':return n;default:return"'"+t+"'"}}var t=/\@ko_token_(\d+)\@/g,i=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,r=["true","false"];return{bindingRewriteValidators:[],parseObjectLiteral:function(t){var i=e.utils.stringTrim(t),o,u,s,y,a,r,f,h,c,p,b,w,k,l,v,d,g;if(i.length<3)return[];for(i.charAt(0)==="{"&&(i=i.substring(1,i.length-1)),o=[],u=null,r=0;r<i.length;r++)if(f=i.charAt(r),u===null)switch(f){case'"':case"'":case"/":u=r;s=f}else f==s&&i.charAt(r-1)!=="\\"&&(h=i.substring(u,r+1),o.push(h),c="@ko_token_"+(o.length-1)+"@",i=i.substring(0,u)+c+i.substring(r+1),r-=h.length-c.length,u=null);for(u=null,s=null,y=0,a=null,r=0;r<i.length;r++){if(f=i.charAt(r),u===null)switch(f){case"{":u=r;a=f;s="}";break;case"(":u=r;a=f;s=")";break;case"[":u=r;a=f;s="]"}f===a?y++:f===s&&(y--,y===0&&(h=i.substring(u,r+1),o.push(h),c="@ko_token_"+(o.length-1)+"@",i=i.substring(0,u)+c+i.substring(r+1),r-=h.length-c.length,u=null))}for(p=[],b=i.split(","),w=0,k=b.length;w<k;w++)l=b[w],v=l.indexOf(":"),v>0&&v<l.length-1?(d=l.substring(0,v),g=l.substring(v+1),p.push({key:n(d,o),value:n(g,o)})):p.push({unknown:n(l,o)});return p},insertPropertyAccessorsIntoJson:function(n){for(var h,o,s,l,a=typeof n=="string"?e.jsonExpressionRewriting.parseObjectLiteral(n):n,t=[],r=[],i,c=0;i=a[c];c++)t.length>0&&t.push(","),i.key?(h=f(i.key),o=i.value,t.push(h),t.push(":"),t.push(o),u(e.utils.stringTrim(o))&&(r.length>0&&r.push(","),r.push(h+":function(__ko_value){"+o+" = __ko_value}"))):i.unknown&&t.push(i.unknown);return s=t.join(""),r.length>0&&(l=r.join(""),s=s+",'_ko_property_writers':{"+l+"}"),s},keyValueArrayContainsKey:function(n,t){for(var i=0;i<n.length;i++)if(e.utils.stringTrim(n[i].key)==t)return!0;return!1},writeValueToProperty:function(n,t,i,r,u){if(n&&e.isWriteableObservable(n))u&&n()===r||n(r);else{var f=t()._ko_property_writers;f&&f[i]&&f[i](r)}}}}();e.exportSymbol("jsonExpressionRewriting",e.jsonExpressionRewriting);e.exportSymbol("jsonExpressionRewriting.bindingRewriteValidators",e.jsonExpressionRewriting.bindingRewriteValidators);e.exportSymbol("jsonExpressionRewriting.parseObjectLiteral",e.jsonExpressionRewriting.parseObjectLiteral);e.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",e.jsonExpressionRewriting.insertPropertyAccessorsIntoJson),function(){function n(n){return n.nodeType==8&&(i?n.text:n.nodeValue).match(o)}function r(n){return n.nodeType==8&&(i?n.text:n.nodeValue).match(s)}function u(t,i){for(var u=t,f=1,e=[];u=u.nextSibling;){if(r(u)&&(f--,f===0))return e;e.push(u);n(u)&&f++}if(!i)throw new Error("Cannot find closing comment tag to match:"+t.nodeValue);return null}function f(n,t){var i=u(n,t);return i?i.length>0?i[i.length-1].nextSibling:n.nextSibling:null}function c(t){var i=t.firstChild,u=null,e;if(i)do u?u.push(i):n(i)?(e=f(i,!0),e?i=e:u=[i]):r(i)&&(u=[i]);while(i=i.nextSibling);return u}var i=t.createComment("test").text==="<!--test-->",o=i?/^<!--\s*ko\s+(.*\:.*)\s*-->$/:/^\s*ko\s+(.*\:.*)\s*$/,s=i?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,h={ul:!0,ol:!0};e.virtualElements={allowedBindings:{},childNodes:function(t){return n(t)?u(t):t.childNodes},emptyNode:function(t){var r,i,u;if(n(t))for(r=e.virtualElements.childNodes(t),i=0,u=r.length;i<u;i++)e.removeNode(r[i]);else e.utils.emptyDomNode(t)},setDomNodeChildren:function(t,i){var u,r,f;if(n(t))for(e.virtualElements.emptyNode(t),u=t.nextSibling,r=0,f=i.length;r<f;r++)u.parentNode.insertBefore(i[r],u);else e.utils.setDomNodeChildren(t,i)},prepend:function(t,i){n(t)?t.parentNode.insertBefore(i,t.nextSibling):t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)},insertAfter:function(t,i,r){n(t)?t.parentNode.insertBefore(i,r.nextSibling):r.nextSibling?t.insertBefore(i,r.nextSibling):t.appendChild(i)},firstChild:function(t){return n(t)?!t.nextSibling||r(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return(n(t)&&(t=f(t)),t.nextSibling&&r(t.nextSibling))?null:t.nextSibling},virtualNodeBindingValue:function(t){var i=n(t);return i?i[1]:null},normaliseVirtualElementDomStructure:function(n){var t,i,u,r;if(h[e.utils.tagNameLower(n)]&&(t=n.firstChild,t))do if(t.nodeType===1&&(i=c(t),i))for(u=t.nextSibling,r=0;r<i.length;r++)u?n.insertBefore(i[r],u):n.appendChild(i[r]);while(t=t.nextSibling)}}}();e.exportSymbol("virtualElements",e.virtualElements);e.exportSymbol("virtualElements.allowedBindings",e.virtualElements.allowedBindings);e.exportSymbol("virtualElements.emptyNode",e.virtualElements.emptyNode);e.exportSymbol("virtualElements.insertAfter",e.virtualElements.insertAfter);e.exportSymbol("virtualElements.prepend",e.virtualElements.prepend);e.exportSymbol("virtualElements.setDomNodeChildren",e.virtualElements.setDomNodeChildren),function(){function t(n,t,r){var u=t+"_"+n;return r[u]||(r[u]=i(n,t))}function i(n,t){var i="{"+e.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(n)+"}";return e.utils.buildEvalWithinScopeFunction(i,t)}var n="data-bind";e.bindingProvider=function(){this.bindingCache={}};e.utils.extend(e.bindingProvider.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return t.getAttribute(n)!=null;case 8:return e.virtualElements.virtualNodeBindingValue(t)!=null;default:return!1}},getBindings:function(n,t){var i=this.getBindingsString(n,t);return i?this.parseBindingsString(i,t):null},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute(n);case 8:return e.virtualElements.virtualNodeBindingValue(t);default:return null}},parseBindingsString:function(n,i){try{var r=i.$data,u=typeof r=="object"&&r!=null?[r,i]:[i],f=t(n,u.length,this.bindingCache);return f(u)}catch(e){throw new Error("Unable to parse bindings.\nMessage:"+e+";\nBindings value:"+n)}}});e.bindingProvider.instance=new e.bindingProvider}();e.exportSymbol("bindingProvider",e.bindingProvider),function(){function o(n){var t=e.virtualElements.allowedBindings[n];if(!t)throw new Error("The binding '"+n+"' cannot be used with virtual elements")}function t(n,t,r){for(var u,f=e.virtualElements.firstChild(t);u=f;)f=e.virtualElements.nextSibling(u),i(n,u,r)}function i(n,i,r){var o=!0,f=i.nodeType===1,s;f&&e.virtualElements.normaliseVirtualElementDomStructure(i);s=f&&r||e.bindingProvider.instance.nodeHasBindings(i);s&&(o=u(i,null,n,r).shouldBindDescendants);o&&t(n,i,!f)}function u(n,t,i,u){function c(n){return function(){return f[n]}}function l(){return f}var s=0,f,h;return e.dependentObservable(function(){var y=i&&i instanceof e.bindingContext?i:new e.bindingContext(e.utils.unwrapObservable(i)),w=y.$data,b,k,p,a,v,d;if(u&&e.storedBindingContextForNode(n,y),b=typeof t=="function"?t():t,f=b||e.bindingProvider.instance.getBindings(n,y),f){if(s===0){s=1;for(a in f)if(v=e.bindingHandlers[a],v&&n.nodeType===8&&o(a),v&&typeof v.init=="function"&&(k=v.init,p=k(n,c(a),l,w,y),p&&p.controlsDescendantBindings)){if(h!==r)throw new Error("Multiple bindings ("+h+" and "+a+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");h=a}s=2}if(s===2)for(a in f)v=e.bindingHandlers[a],v&&typeof v.update=="function"&&(d=v.update,d(n,c(a),l,w,y))}},null,{disposeWhenNodeIsRemoved:n}),{shouldBindDescendants:h===r}}e.bindingHandlers={};e.bindingContext=function(n,t){t?(e.utils.extend(this,t),this.$parentContext=t,this.$parent=t.$data,this.$parents=(t.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=n);this.$data=n};e.bindingContext.prototype.createChildContext=function(n){return new e.bindingContext(n,this)};e.bindingContext.prototype.extend=function(n){var t=e.utils.extend(new e.bindingContext,this);return e.utils.extend(t,n)};var f="__ko_bindingContext__";e.storedBindingContextForNode=function(n,t){if(arguments.length==2)e.utils.domData.set(n,f,t);else return e.utils.domData.get(n,f)};e.applyBindingsToNode=function(n,t,i){return n.nodeType===1&&e.virtualElements.normaliseVirtualElementDomStructure(n),u(n,t,i,!0)};e.applyBindingsToDescendants=function(n,i){(i.nodeType===1||i.nodeType===8)&&t(n,i,!0)};e.applyBindings=function(t,r){if(r&&r.nodeType!==1&&r.nodeType!==8)throw new Error("ko.applyBindings:first parameter should be your view model;second parameter should be a DOM node");r=r||n.document.body;i(t,r,!0)};e.contextFor=function(n){switch(n.nodeType){case 1:case 8:var t=e.storedBindingContextForNode(n);if(t)return t;if(n.parentNode)return e.contextFor(n.parentNode)}return r};e.dataFor=function(n){var t=e.contextFor(n);return t?t.$data:r};e.exportSymbol("bindingHandlers",e.bindingHandlers);e.exportSymbol("applyBindings",e.applyBindings);e.exportSymbol("applyBindingsToDescendants",e.applyBindingsToDescendants);e.exportSymbol("applyBindingsToNode",e.applyBindingsToNode);e.exportSymbol("contextFor",e.contextFor);e.exportSymbol("dataFor",e.dataFor)}();a=["click"];e.utils.arrayForEach(a,function(n){e.bindingHandlers[n]={init:function(t,i,r,u){var f=function(){var t={};return t[n]=i(),t};return e.bindingHandlers.event.init.call(this,t,f,r,u)}}});e.bindingHandlers.event={init:function(n,t,i,r){var u=t()||{};for(var f in u)(function(){var u=f;typeof u=="string"&&e.utils.registerEventHandler(n,u,function(n){var o,s=t()[u],h,f,c;if(s){h=i();try{f=e.utils.makeArray(arguments);f.unshift(r);o=s.apply(r,f)}finally{o!==!0&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}c=h[u+"Bubble"]!==!1;c||(n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation())}})})()}};e.bindingHandlers.submit={init:function(n,t,i,r){if(typeof t()!="function")throw new Error("The value for a submit binding must be a function");e.utils.registerEventHandler(n,"submit",function(i){var u,f=t();try{u=f.call(r,n)}finally{u!==!0&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}})}};e.bindingHandlers.visible={update:function(n,t){var i=e.utils.unwrapObservable(t()),r=!(n.style.display=="none");i&&!r?n.style.display="":!i&&r&&(n.style.display="none")}};e.bindingHandlers.enable={update:function(n,t){var i=e.utils.unwrapObservable(t());i&&n.disabled?n.removeAttribute("disabled"):i||n.disabled||(n.disabled=!0)}};e.bindingHandlers.disable={update:function(n,t){e.bindingHandlers.enable.update(n,function(){return!e.utils.unwrapObservable(t())})}};e.bindingHandlers.value={init:function(n,t,i){var r=["change"],u=i().valueUpdate,f,s,o;u&&(typeof u=="string"&&(u=[u]),e.utils.arrayPushAll(r,u),r=e.utils.arrayGetDistinctValues(r));f=function(){var r=t(),u=e.selectExtensions.readValue(n);e.jsonExpressionRewriting.writeValueToProperty(r,i,"value",u,!0)};s=e.utils.ieVersion&&n.tagName.toLowerCase()=="input"&&n.type=="text"&&n.autocomplete!="off"&&(!n.form||n.form.autocomplete!="off");s&&e.utils.arrayIndexOf(r,"propertychange")==-1&&(o=!1,e.utils.registerEventHandler(n,"propertychange",function(){o=!0}),e.utils.registerEventHandler(n,"blur",function(){o&&(o=!1,f())}));e.utils.arrayForEach(r,function(t){var i=f;e.utils.stringStartsWith(t,"after")&&(i=function(){setTimeout(f,0)},t=t.substring(5));e.utils.registerEventHandler(n,t,i)})},update:function(n,t){var f=e.utils.tagNameLower(n)==="select",i=e.utils.unwrapObservable(t()),r=e.selectExtensions.readValue(n),o=i!=r,u,s;i===0&&r!==0&&r!=="0"&&(o=!0);o&&(u=function(){e.selectExtensions.writeValue(n,i)},u(),s=f,s&&setTimeout(u,0));f&&n.length>0&&v(n,i,!1)}};e.bindingHandlers.options={update:function(n,i,u){var s,h,c,l,a,p,w,f,y;if(e.utils.tagNameLower(n)!=="select")throw new Error("options binding applies only to SELECT elements");for(var b=n.length==0,k=e.utils.arrayMap(e.utils.arrayFilter(n.childNodes,function(n){return n.tagName&&e.utils.tagNameLower(n)==="option"&&n.selected}),function(n){return e.selectExtensions.readValue(n)||n.innerText||n.textContent}),d=n.scrollTop,o=e.utils.unwrapObservable(i()),g=n.value;n.length>0;)e.cleanNode(n.options[0]),n.remove(0);if(o){for(s=u(),typeof o.length!="number"&&(o=[o]),s.optionsCaption&&(h=t.createElement("option"),e.utils.setHtml(h,s.optionsCaption),e.selectExtensions.writeValue(h,r),n.appendChild(h)),f=0,y=o.length;f<y;f++)h=t.createElement("option"),c=typeof s.optionsValue=="string"?o[f][s.optionsValue]:o[f],c=e.utils.unwrapObservable(c),e.selectExtensions.writeValue(h,c),l=s.optionsText,a=typeof l=="function"?l(o[f]):typeof l=="string"?o[f][l]:c,(a===null||a===r)&&(a=""),e.utils.setTextContent(h,a),n.appendChild(h);for(p=n.getElementsByTagName("option"),w=0,f=0,y=p.length;f<y;f++)e.utils.arrayIndexOf(k,e.selectExtensions.readValue(p[f]))>=0&&(e.utils.setOptionNodeSelectionState(p[f],!0),w++);n.scrollTop=d;b&&"value"in s&&v(n,e.utils.unwrapObservable(s.value),!0);e.utils.ensureSelectElementIsRenderedCorrectly(n)}}};e.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__";e.bindingHandlers.selectedOptions={getSelectedValuesFromSelectNode:function(n){for(var t,u,o,i=[],f=n.childNodes,r=0,s=f.length;r<s;r++)t=f[r],u=e.utils.tagNameLower(t),u=="option"&&t.selected?i.push(e.selectExtensions.readValue(t)):u=="optgroup"&&(o=e.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(t),Array.prototype.splice.apply(i,[i.length,0].concat(o)));return i},init:function(n,t,i){e.utils.registerEventHandler(n,"change",function(){var n=t(),r=e.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(this);e.jsonExpressionRewriting.writeValueToProperty(n,i,"value",r)})},update:function(n,t){var i,f,r,o,u;if(e.utils.tagNameLower(n)!="select")throw new Error("values binding applies only to SELECT elements");if(i=e.utils.unwrapObservable(t()),i&&typeof i.length=="number")for(f=n.childNodes,r=0,o=f.length;r<o;r++)u=f[r],e.utils.tagNameLower(u)==="option"&&e.utils.setOptionNodeSelectionState(u,e.utils.arrayIndexOf(i,e.selectExtensions.readValue(u))>=0)}};e.bindingHandlers.text={update:function(n,t){e.utils.setTextContent(n,t())}};e.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){var i=e.utils.unwrapObservable(t());e.utils.setHtml(n,i)}};e.bindingHandlers.css={update:function(n,t){var r=e.utils.unwrapObservable(t()||{}),i,u;for(i in r)typeof i=="string"&&(u=e.utils.unwrapObservable(r[i]),e.utils.toggleDomNodeCssClass(n,i,u))}};e.bindingHandlers.style={update:function(n,t){var r=e.utils.unwrapObservable(t()||{}),i,u;for(i in r)typeof i=="string"&&(u=e.utils.unwrapObservable(r[i]),n.style[i]=u||"")}};e.bindingHandlers.uniqueName={init:function(n,i){i()&&(n.name="ko_unique_"+ ++e.bindingHandlers.uniqueName.currentIndex,(e.utils.isIe6||e.utils.isIe7)&&n.mergeAttributes(t.createElement("<input name='"+n.name+"'/>"),!1))}};e.bindingHandlers.uniqueName.currentIndex=0;e.bindingHandlers.checked={init:function(n,t,i){var r=function(){var f,r,u;if(n.type=="checkbox")f=n.checked;else if(n.type=="radio"&&n.checked)f=n.value;else return;r=t();n.type=="checkbox"&&e.utils.unwrapObservable(r)instanceof Array?(u=e.utils.arrayIndexOf(e.utils.unwrapObservable(r),n.value),n.checked&&u<0?r.push(n.value):!n.checked&&u>=0&&r.splice(u,1)):e.jsonExpressionRewriting.writeValueToProperty(r,i,"checked",f,!0)};e.utils.registerEventHandler(n,"click",r);n.type!="radio"||n.name||e.bindingHandlers.uniqueName.init(n,function(){return!0})},update:function(n,t){var i=e.utils.unwrapObservable(t());n.type=="checkbox"?n.checked=i instanceof Array?e.utils.arrayIndexOf(i,n.value)>=0:i:n.type=="radio"&&(n.checked=n.value==i)}};c={"class":"className","for":"htmlFor"};e.bindingHandlers.attr={update:function(n,t){var o=e.utils.unwrapObservable(t())||{},i,u,f;for(i in o)typeof i=="string"&&(u=e.utils.unwrapObservable(o[i]),f=u===!1||u===null||u===r,f&&n.removeAttribute(i),e.utils.ieVersion<=8&&i in c?(i=c[i],f?n.removeAttribute(i):n[i]=u):f||n.setAttribute(i,u.toString()))}};e.bindingHandlers.hasfocus={init:function(n,t,i){var r=function(n){var r=t();e.jsonExpressionRewriting.writeValueToProperty(r,i,"hasfocus",n,!0)};e.utils.registerEventHandler(n,"focus",function(){r(!0)});e.utils.registerEventHandler(n,"focusin",function(){r(!0)});e.utils.registerEventHandler(n,"blur",function(){r(!1)});e.utils.registerEventHandler(n,"focusout",function(){r(!1)})},update:function(n,t){var i=e.utils.unwrapObservable(t());i?n.focus():n.blur();e.utils.triggerEvent(n,i?"focusin":"focusout")}};e.bindingHandlers["with"]={makeTemplateValueAccessor:function(n){return function(){var t=n();return{"if":t,data:t,templateEngine:e.nativeTemplateEngine.instance}}},init:function(n,t){return e.bindingHandlers.template.init(n,e.bindingHandlers["with"].makeTemplateValueAccessor(t))},update:function(n,t,i,r,u){return e.bindingHandlers.template.update(n,e.bindingHandlers["with"].makeTemplateValueAccessor(t),i,r,u)}};e.jsonExpressionRewriting.bindingRewriteValidators["with"]=!1;e.virtualElements.allowedBindings["with"]=!0;e.bindingHandlers["if"]={makeTemplateValueAccessor:function(n){return function(){return{"if":n(),templateEngine:e.nativeTemplateEngine.instance}}},init:function(n,t){return e.bindingHandlers.template.init(n,e.bindingHandlers["if"].makeTemplateValueAccessor(t))},update:function(n,t,i,r,u){return e.bindingHandlers.template.update(n,e.bindingHandlers["if"].makeTemplateValueAccessor(t),i,r,u)}};e.jsonExpressionRewriting.bindingRewriteValidators["if"]=!1;e.virtualElements.allowedBindings["if"]=!0;e.bindingHandlers.ifnot={makeTemplateValueAccessor:function(n){return function(){return{ifnot:n(),templateEngine:e.nativeTemplateEngine.instance}}},init:function(n,t){return e.bindingHandlers.template.init(n,e.bindingHandlers.ifnot.makeTemplateValueAccessor(t))},update:function(n,t,i,r,u){return e.bindingHandlers.template.update(n,e.bindingHandlers.ifnot.makeTemplateValueAccessor(t),i,r,u)}};e.jsonExpressionRewriting.bindingRewriteValidators.ifnot=!1;e.virtualElements.allowedBindings.ifnot=!0;e.bindingHandlers.foreach={makeTemplateValueAccessor:function(n){return function(){var t=e.utils.unwrapObservable(n());return!t||typeof t.length=="number"?{foreach:t,templateEngine:e.nativeTemplateEngine.instance}:{foreach:t.data,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,templateEngine:e.nativeTemplateEngine.instance}}},init:function(n,t){return e.bindingHandlers.template.init(n,e.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(n,t,i,r,u){return e.bindingHandlers.template.update(n,e.bindingHandlers.foreach.makeTemplateValueAccessor(t),i,r,u)}};e.jsonExpressionRewriting.bindingRewriteValidators.foreach=!1;e.virtualElements.allowedBindings.foreach=!0;e.templateEngine=function(){};e.templateEngine.prototype.renderTemplateSource=function(){throw new Error("Override renderTemplateSource")};e.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(){throw new Error("Override createJavaScriptEvaluatorBlock")};e.templateEngine.prototype.makeTemplateSource=function(n,i){if(typeof n=="string"){i=i||t;var r=i.getElementById(n);if(!r)throw new Error("Cannot find template with ID "+n);return new e.templateSources.domElement(r)}if(n.nodeType==1||n.nodeType==8)return new e.templateSources.anonymousTemplate(n);throw new Error("Unknown template type:"+n)};e.templateEngine.prototype.renderTemplate=function(n,t,i,r){var u=this.makeTemplateSource(n,r);return this.renderTemplateSource(u,t,i)};e.templateEngine.prototype.isTemplateRewritten=function(n,i){if(this.allowTemplateRewriting===!1)return!0;var r=i&&i!=t;return!r&&this.knownRewrittenTemplates&&this.knownRewrittenTemplates[n]?!0:this.makeTemplateSource(n,i).data("isRewritten")};e.templateEngine.prototype.rewriteTemplate=function(n,i,r){var u=this.makeTemplateSource(n,r),e=i(u.text()),f;u.text(e);u.data("isRewritten",!0);f=r&&r!=t;f||typeof n!="string"||(this.knownRewrittenTemplates=this.knownRewrittenTemplates||{},this.knownRewrittenTemplates[n]=!0)};e.exportSymbol("templateEngine",e.templateEngine);e.templateRewriting=function(){function r(n){for(var i,r,u,f=e.jsonExpressionRewriting.bindingRewriteValidators,t=0;t<n.length;t++)if(i=n[t].key,f.hasOwnProperty(i))if(r=f[i],typeof r=="function"){if(u=r(n[t].value),u)throw new Error(u)}else if(!r)throw new Error("This template engine does not support the '"+i+"' binding within its templates")}function n(n,t,i){var u=e.jsonExpressionRewriting.parseObjectLiteral(n),f,o;return r(u),f=e.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(u),o="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function(){return (function(){return{"+f+"}})()})",i.createJavaScriptEvaluatorBlock(o)+t}var t=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,i=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(n,t,i){t.isTemplateRewritten(n,i)||t.rewriteTemplate(n,function(n){return e.templateRewriting.memoizeBindingAttributeSyntax(n,t)},i)},memoizeBindingAttributeSyntax:function(r,u){return r.replace(t,function(){return n(arguments[6],arguments[1],u)}).replace(i,function(){return n(arguments[1],"<!-- ko -->",u)})},applyMemoizedBindingsToNextSibling:function(n){return e.memoization.memoize(function(t,i){t.nextSibling&&e.applyBindingsToNode(t.nextSibling,n,i)})}}}();e.exportSymbol("templateRewriting",e.templateRewriting);e.exportSymbol("templateRewriting.applyMemoizedBindingsToNextSibling",e.templateRewriting.applyMemoizedBindingsToNextSibling),function(){e.templateSources={};e.templateSources.domElement=function(n){this.domElement=n};e.templateSources.domElement.prototype.text=function(){var i=e.utils.tagNameLower(this.domElement),n=i==="script"?"text":i==="textarea"?"value":"innerHTML",t;if(arguments.length==0)return this.domElement[n];t=arguments[0];n==="innerHTML"?e.utils.setHtml(this.domElement,t):this.domElement[n]=t};e.templateSources.domElement.prototype.data=function(n){if(arguments.length===1)return e.utils.domData.get(this.domElement,"templateSourceData_"+n);e.utils.domData.set(this.domElement,"templateSourceData_"+n,arguments[1])};var n="__ko_anon_template__";e.templateSources.anonymousTemplate=function(n){this.domElement=n};e.templateSources.anonymousTemplate.prototype=new e.templateSources.domElement;e.templateSources.anonymousTemplate.prototype.text=function(){var t,i;if(arguments.length==0)return t=e.utils.domData.get(this.domElement,n)||{},t.textData===r&&t.containerData&&(t.textData=t.containerData.innerHTML),t.textData;i=arguments[0];e.utils.domData.set(this.domElement,n,{textData:i})};e.templateSources.domElement.prototype.nodes=function(){var t,i;if(arguments.length==0)return t=e.utils.domData.get(this.domElement,n)||{},t.containerData;i=arguments[0];e.utils.domData.set(this.domElement,n,{containerData:i})};e.exportSymbol("templateSources",e.templateSources);e.exportSymbol("templateSources.domElement",e.templateSources.domElement);e.exportSymbol("templateSources.anonymousTemplate",e.templateSources.anonymousTemplate)}(),function(){function u(n,t,i){for(var r,u=n,f=e.virtualElements.nextSibling(t);u&&(r=u)!==f;)u=e.virtualElements.nextSibling(r),(r.nodeType===1||r.nodeType===8)&&i(r)}function f(n,t){if(n.length){var i=n[0],r=n[n.length-1];u(i,r,function(n){e.applyBindings(t,n)});u(i,r,function(n){e.memoization.unmemoizeDomNodeAndDescendants(n,[t])})}}function t(n){return n.nodeType?n:n.length>0?n[0]:null}function o(i,r,u,o,s){var h,c;s=s||{};var l=i&&t(i),a=l&&l.ownerDocument,v=s.templateEngine||n;if(e.templateRewriting.ensureTemplateIsRewritten(u,v,a),h=v.renderTemplate(u,o,s,a),typeof h.length!="number"||h.length>0&&typeof h[0].nodeType!="number")throw new Error("Template engine must return an array of DOM nodes");c=!1;switch(r){case"replaceChildren":e.virtualElements.setDomNodeChildren(i,h);c=!0;break;case"replaceNode":e.utils.replaceDomNodes(i,h);c=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode:"+r)}return c&&(f(h,o),s.afterRender&&s.afterRender(h,o.$data)),h}function s(n,t){var r=e.utils.domData.get(n,i);r&&typeof r.dispose=="function"&&r.dispose();e.utils.domData.set(n,i,t)}var n,i;e.setTemplateEngine=function(t){if(t!=r&&!(t instanceof e.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");n=t};e.renderTemplate=function(i,u,f,s,h){if(f=f||{},(f.templateEngine||n)==r)throw new Error("Set a template engine before calling renderTemplate");if(h=h||"replaceChildren",s){var c=t(s),l=function(){return!c||!e.utils.domNodeIsAttachedToDocument(c)},a=c&&h=="replaceNode"?c.parentNode:c;return e.dependentObservable(function(){var n=u&&u instanceof e.bindingContext?u:new e.bindingContext(e.utils.unwrapObservable(u)),r=typeof i=="function"?i(n.$data):i,l=o(s,h,r,n,f);h=="replaceNode"&&(s=l,c=t(s))},null,{disposeWhen:l,disposeWhenNodeIsRemoved:a})}return e.memoization.memoize(function(n){e.renderTemplate(i,u,f,n,"replaceNode")})};e.renderTemplateForEach=function(n,t,i,u,s){var h,c=function(t,r){var u=typeof n=="function"?n(t):n;return h=s.createChildContext(e.utils.unwrapObservable(t)),h.$index=r,o(null,"ignoreTargetNode",u,h,i)},l=function(n,t){f(t,h);i.afterRender&&i.afterRender(t,n)};return e.dependentObservable(function(){var n=e.utils.unwrapObservable(t)||[],f;typeof n.length=="undefined"&&(n=[n]);f=e.utils.arrayFilter(n,function(n){return i.includeDestroyed||n===r||n===null||!e.utils.unwrapObservable(n._destroy)});e.utils.setDomNodeChildrenFromArrayMapping(u,f,c,i,l)},null,{disposeWhenNodeIsRemoved:u})};i="__ko__templateSubscriptionDomDataKey__";e.bindingHandlers.template={init:function(n,t){var i=e.utils.unwrapObservable(t()),r,u;return typeof i=="string"||i.name||n.nodeType!=1&&n.nodeType!=8||(r=n.nodeType==1?n.childNodes:e.virtualElements.childNodes(n),u=e.utils.moveCleanedNodesToContainerElement(r),new e.templateSources.anonymousTemplate(n).nodes(u)),{controlsDescendantBindings:!0}},update:function(n,t,i,r,u){var f=e.utils.unwrapObservable(t()),h,o=!0,c,l,a;typeof f=="string"?h=f:(h=f.name,"if"in f&&(o=o&&e.utils.unwrapObservable(f["if"])),"ifnot"in f&&(o=o&&!e.utils.unwrapObservable(f.ifnot)));c=null;typeof f=="object"&&"foreach"in f?(l=o&&f.foreach||[],c=e.renderTemplateForEach(h||n,l,f,n,u)):o?(a=typeof f=="object"&&"data"in f?u.createChildContext(e.utils.unwrapObservable(f.data)):u,c=e.renderTemplate(h||n,a,f,n)):e.virtualElements.emptyNode(n);s(n,c)}};e.jsonExpressionRewriting.bindingRewriteValidators.template=function(n){var t=e.jsonExpressionRewriting.parseObjectLiteral(n);return t.length==1&&t[0].unknown?null:e.jsonExpressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"};e.virtualElements.allowedBindings.template=!0}();e.exportSymbol("setTemplateEngine",e.setTemplateEngine);e.exportSymbol("renderTemplate",e.renderTemplate),function(){function n(n,t,i){for(var s,f,h,o,c,l,a,v,y,e=[],u=0;u<=t.length;u++)e[u]=[];for(u=0,s=Math.min(n.length,i);u<=s;u++)e[0][u]=u;for(u=1,s=Math.min(t.length,i);u<=s;u++)e[u][0]=u;for(h=n.length,c=t.length,f=1;f<=h;f++)for(l=Math.max(1,f-i),a=Math.min(c,f+i),o=l;o<=a;o++)n[f-1]===t[o-1]?e[o][f]=e[o-1][f-1]:(v=e[o-1][f]===r?Number.MAX_VALUE:e[o-1][f]+1,y=e[o][f-1]===r?Number.MAX_VALUE:e[o][f-1]+1,e[o][f]=Math.min(v,y));return e}function t(n,t,i){var u=t.length,f=i.length,h=[],e=n[f][u];if(e===r)return null;while(u>0||f>0){var l=n[f][u],o=f>0?n[f-1][u]:e+1,s=u>0?n[f][u-1]:e+1,c=f>0&&u>0?n[f-1][u-1]:e+1;(o===r||o<l-1)&&(o=e+1);(s===r||s<l-1)&&(s=e+1);c<l-1&&(c=e+1);o<=s&&o<c?(h.push({status:"added",value:i[f-1]}),f--):s<o&&s<c?(h.push({status:"deleted",value:t[u-1]}),u--):(h.push({status:"retained",value:t[u-1]}),f--,u--)}return h.reverse()}e.utils.compareArrays=function(i,u,f){if(f===r)return e.utils.compareArrays(i,u,1)||e.utils.compareArrays(i,u,10)||e.utils.compareArrays(i,u,Number.MAX_VALUE);i=i||[];u=u||[];var o=n(i,u,f);return t(o,i,u)}}();e.exportSymbol("utils.compareArrays",e.utils.compareArrays),function(){function t(n){if(n.length>2){for(var t=n[0],r=n[n.length-1],i=[t];t!==r;){if(t=t.nextSibling,!t)return;i.push(t)}Array.prototype.splice.apply(n,[0,n.length].concat(i))}}function i(n,i,r,u,f){var o=[],s=e.dependentObservable(function(){var n=i(r,f)||[];o.length>0&&(t(o),e.utils.replaceDomNodes(o,n),u&&u(r,n));o.splice(0,o.length);e.utils.arrayPushAll(o,n)},null,{disposeWhenNodeIsRemoved:n,disposeWhen:function(){return o.length==0||!e.utils.domNodeIsAttachedToDocument(o[0])}});return{mappedNodes:o,dependentObservable:s}}var n="setDomNodeChildrenFromArrayMapping_lastMappingResult";e.utils.setDomNodeChildrenFromArrayMapping=function(u,f,o,s,h){var ft,y,nt,st,k,ut,c,tt;f=f||[];s=s||{};var ht=e.utils.domData.get(u,n)===r,p=e.utils.domData.get(u,n)||[],ct=e.utils.arrayMap(p,function(n){return n.arrayEntry}),a=e.utils.compareArrays(ct,f),it=[],v=0,l=[],d=0,w=[],b=null;for(c=0,ft=a.length;c<ft;c++)switch(a[c].status){case"retained":y=p[v];y.indexObservable(d);d=it.push(y);y.domNodes.length>0&&(b=y.domNodes[y.domNodes.length-1]);v++;break;case"deleted":p[v].dependentObservable.dispose();t(p[v].domNodes);e.utils.arrayForEach(p[v].domNodes,function(n){l.push({element:n,index:c,value:a[c].value});b=n});v++;break;case"added":var et=a[c].value,rt=e.observable(d),ot=i(u,o,et,h,rt),g=ot.mappedNodes;for(d=it.push({arrayEntry:a[c].value,domNodes:g,dependentObservable:ot.dependentObservable,indexObservable:rt}),nt=0,st=g.length;nt<st;nt++)k=g[nt],w.push({element:k,index:c,value:a[c].value}),b==null?e.virtualElements.prepend(u,k):e.virtualElements.insertAfter(u,k,b),b=k;h&&h(et,g,rt)}if(e.utils.arrayForEach(l,function(n){e.cleanNode(n.element)}),ut=!1,!ht){if(s.afterAdd)for(c=0;c<w.length;c++)s.afterAdd(w[c].element,w[c].index,w[c].value);if(s.beforeRemove){for(c=0;c<l.length;c++)s.beforeRemove(l[c].element,l[c].index,l[c].value);ut=!0}}if(!ut&&l.length)for(c=0;c<l.length;c++)tt=l[c].element,tt.parentNode&&tt.parentNode.removeChild(tt);e.utils.domData.set(u,n,it)}}();e.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",e.utils.setDomNodeChildrenFromArrayMapping);e.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1};e.nativeTemplateEngine.prototype=new e.templateEngine;e.nativeTemplateEngine.prototype.renderTemplateSource=function(n){var r=!(e.utils.ieVersion<9),u=r?n.nodes:null,t=u?n.nodes():null,i;return t?e.utils.makeArray(t.cloneNode(!0).childNodes):(i=n.text(),e.utils.parseHtmlFragment(i))};e.nativeTemplateEngine.instance=new e.nativeTemplateEngine;e.setTemplateEngine(e.nativeTemplateEngine.instance);e.exportSymbol("nativeTemplateEngine",e.nativeTemplateEngine),function(){e.jqueryTmplTemplateEngine=function(){function i(){if(n<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function r(n,t,i){return jQuery.tmpl(n,t,i)}var n=this.jQueryTmplVersion=function(){if(typeof jQuery=="undefined"||!jQuery.tmpl)return 0;try{if(jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(n){}return 1}();this.renderTemplateSource=function(n,u,f){var e,o;f=f||{};i();e=n.data("precompiled");e||(o=n.text()||"",o="{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}",e=jQuery.template(null,o),n.data("precompiled",e));var h=[u.$data],c=jQuery.extend({koBindingContext:u},f.templateOptions),s=r(e,h,c);return s.appendTo(t.createElement("div")),jQuery.fragments={},s};this.createJavaScriptEvaluatorBlock=function(n){return"{{ko_code ((function(){return "+n+"})())}}"};this.addTemplate=function(n,i){t.write("<script type='text/html' id='"+n+"'>"+i+"<\/script>")};n>0&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1){",close:"}"})};e.jqueryTmplTemplateEngine.prototype=new e.templateEngine;var n=new e.jqueryTmplTemplateEngine;n.jQueryTmplVersion>0&&e.setTemplateEngine(n);e.exportSymbol("jqueryTmplTemplateEngine",e.jqueryTmplTemplateEngine)}()})})(window,document,navigator)